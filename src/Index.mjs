// Generated by ReScript, PLEASE EDIT WITH CARE

import * as Curry from "rescript/lib/es6/curry.js";
import * as React from "react";
import * as Caml_array from "rescript/lib/es6/caml_array.js";
import * as React$1 from "@headlessui/react";

function Index$Hero(Props) {
  var children = Props.children;
  return React.createElement("div", undefined, React.createElement("div", {
                  className: ""
                }, children));
}

function Index$Variant$Option(Props) {
  var name = Props.name;
  return React.createElement(React$1.Tab, {
              className: (function (param) {
                  return [
                            "w-full py-2.5 text-sm leading-5 font-medium rounded-lg",
                            "focus:outline-none focus:ring-2 ring-offset-2 ring-offset-blue-400 ring-white ring-opacity-60",
                            param.selected ? "bg-white shadow text-blue-700 text-opacity-80" : "text-blue-100 hover:bg-white hover:bg-opacity-10 hover:text-white"
                          ].join(" ");
                }),
              children: (function (param) {
                  return name;
                }),
              key: name
            });
}

var builds = [
  /* Stable */0,
  /* Nightly */1
];

var defaultPlatforms = [
  {
    TAG: /* CUDA */0,
    _0: "10.2"
  },
  /* CPU */0,
  {
    TAG: /* CUDA_XLA */1,
    _0: "10.1"
  }
];

function $$default(param) {
  var match = React.useState(function () {
        return {
                build: /* Stable */0,
                platform: {
                  TAG: /* CUDA */0,
                  _0: "10.2"
                }
              };
      });
  var setState = match[1];
  var state = match[0];
  var availableCUDAVersions = function (state) {
    var match = state.platform;
    if (typeof match === "number") {
      return [];
    } else if (match.TAG === /* CUDA */0) {
      return [
              "10.0",
              "10.1",
              "10.2",
              "11.0",
              "11.1",
              "11.2"
            ];
    } else {
      return [
              "10.0",
              "10.1",
              "10.2",
              "11.0",
              "11.1"
            ];
    }
  };
  var updatePlatfrom = function (currentPlatform, cudaVersionStr) {
    if (typeof currentPlatform === "number") {
      return /* CPU */0;
    } else if (currentPlatform.TAG === /* CUDA */0) {
      return {
              TAG: /* CUDA */0,
              _0: cudaVersionStr
            };
    } else {
      return {
              TAG: /* CUDA_XLA */1,
              _0: cudaVersionStr
            };
    }
  };
  return React.createElement(Index$Hero, {
              children: React.createElement("div", {
                    className: "rounded-xl overflow-hidden bg-gradient-to-r from-sky-400 to-blue-600 flex flex-col items-center justify-center w-full"
                  }, React.createElement("div", {
                        className: "w-full max-w-md px-2 py-16 sm:px-0"
                      }, React.createElement(React$1.Tab.Group, {
                            children: React.createElement(React$1.Tab.List, {
                                  children: (function (param) {
                                      return builds.map(function (b) {
                                                  var s = b ? "Nightly" : "Stable";
                                                  return React.createElement(Index$Variant$Option, {
                                                              name: s
                                                            });
                                                });
                                    }),
                                  className: "flex p-1 space-x-1 bg-blue-900 bg-opacity-20 rounded-xl"
                                }),
                            onChange: (function (index) {
                                return Curry._1(setState, (function (s) {
                                              return {
                                                      build: Caml_array.get(builds, index),
                                                      platform: s.platform
                                                    };
                                            }));
                              })
                          }), React.createElement(React$1.Tab.Group, {
                            children: React.createElement(React$1.Tab.List, {
                                  children: (function (param) {
                                      return defaultPlatforms.map(function (p) {
                                                  var platformStr;
                                                  platformStr = typeof p === "number" ? "CPU" : (
                                                      p.TAG === /* CUDA */0 ? "CUDA" : "XLA"
                                                    );
                                                  return React.createElement(Index$Variant$Option, {
                                                              name: platformStr
                                                            });
                                                });
                                    }),
                                  className: "my-1 flex p-1 space-x-1 bg-blue-900 bg-opacity-20 rounded-xl"
                                }),
                            onChange: (function (index) {
                                return Curry._1(setState, (function (s) {
                                              return {
                                                      build: s.build,
                                                      platform: Caml_array.get(defaultPlatforms, index)
                                                    };
                                            }));
                              })
                          }), React.createElement(React$1.Tab.Group, {
                            children: null,
                            onChange: (function (index) {
                                return Curry._1(setState, (function (s) {
                                              return {
                                                      build: s.build,
                                                      platform: updatePlatfrom(s.platform, Caml_array.get(availableCUDAVersions(state), index))
                                                    };
                                            }));
                              })
                          }, React.createElement(React$1.Tab.List, {
                                children: (function (param) {
                                    return availableCUDAVersions(state).map(function (category) {
                                                return React.createElement(Index$Variant$Option, {
                                                            name: category
                                                          });
                                              });
                                  }),
                                className: "flex p-1 space-x-1 bg-blue-900 bg-opacity-20 rounded-xl"
                              }), React.createElement(React$1.Tab.Panels, {
                                children: (function (param) {
                                    return availableCUDAVersions(state).map(function (v, idx) {
                                                return React.createElement(React$1.Tab.Panel, {
                                                            className: (function (param) {
                                                                return [
                                                                          "bg-white rounded-xl p-3",
                                                                          "focus:outline-none focus:ring-2 ring-offset-2 ring-offset-blue-400 ring-white ring-opacity-60"
                                                                        ].join(" ");
                                                              }),
                                                            children: (function (param) {
                                                                var match = state.build;
                                                                var tmp;
                                                                if (match) {
                                                                  var ver = state.platform;
                                                                  var tmp$1;
                                                                  tmp$1 = typeof ver === "number" ? "cpu" : (
                                                                      ver.TAG === /* CUDA */0 ? "cu" + ver._0.replace(".", "") : "cu" + ver._0.replace(".", "") + ".xla"
                                                                    );
                                                                  tmp = [
                                                                      "https://staging.oneflow.info/branch/master/",
                                                                      tmp$1
                                                                    ].join("");
                                                                } else {
                                                                  tmp = "https://release.oneflow.info";
                                                                }
                                                                return [
                                                                          "python3 -m pip install oneflow -f",
                                                                          tmp,
                                                                          ""
                                                                        ].join(" ");
                                                              }),
                                                            key: v
                                                          });
                                              });
                                  }),
                                className: "mt-2"
                              }))))
            });
}

export {
  $$default ,
  $$default as default,
  
}
/* react Not a pure module */
